(()=>{let e=Stripe("pk_test_51Igc7UKZIkFEWPuFcYcXEdmJL0J2LvEUBUdSguZk76R5Tydlkr0RTmBvegmWoIDVfDVdnUeDUBDkzrGAmY03KXTc00Eh7AYB04");document.querySelector("button").disabled=!0,fetch("/src/php/functions/paymentIntent.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"xl-tshirt"}]})}).then((function(e){return e.json()})).then((function(n){var o=e.elements().create("card",{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{fontFamily:"Arial, sans-serif",color:"#fa755a",iconColor:"#fa755a"}}});o.mount("#card-element"),o.on("change",(function(e){document.querySelector("button").disabled=e.empty,document.querySelector("#card-error").textContent=e.error?e.error.message:""})),document.getElementById("payment-form").addEventListener("submit",(function(r){r.preventDefault(),t(e,o,n.clientSecret)}))}));var t=function(e,t,c){r(!0),e.confirmCardPayment(c,{payment_method:{card:t}}).then((function(e){e.error?o(e.error.message):n(e.paymentIntent.id)}))},n=function(e){r(!1),document.querySelector(".result-message a").setAttribute("href","https://dashboard.stripe.com/test/payments/"+e),document.querySelector(".result-message").classList.remove("hidden"),document.querySelector("button").disabled=!0},o=function(e){r(!1);var t=document.querySelector("#card-error");t.textContent=e,setTimeout((function(){t.textContent=""}),4e3)},r=function(e){e?(document.querySelector("button").disabled=!0,document.querySelector("#spinner").classList.remove("hidden"),document.querySelector("#button-text").classList.add("hidden")):(document.querySelector("button").disabled=!1,document.querySelector("#spinner").classList.add("hidden"),document.querySelector("#button-text").classList.remove("hidden"))}})();